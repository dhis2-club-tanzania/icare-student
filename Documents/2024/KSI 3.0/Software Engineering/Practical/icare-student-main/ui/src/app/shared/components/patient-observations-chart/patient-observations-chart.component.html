<div
  class="row"
  *ngIf="{
    obsChartEncounterType: obsChartEncounterType$ | async,
    activeVisit: activeVisit$ | async
  } as params"
>
  <div class="col-12">
    <div class="loading-overlay" *ngIf="savingObs">
      <div class="text-center">
        <div>Saving details...</div>
        <div class="mt-3 d-flex justify-content-center w-100">
          <mat-spinner diameter="50" strokeWidth="2"></mat-spinner>
        </div>
      </div>
    </div>
    <app-observation-chart-table
      *ngIf="params?.obsChartEncounterType && params?.activeVisit"
      [selectedForm]="selectedForm"
      [obsChartEncounterType]="params?.obsChartEncounterType"
      [activeVisit]="params?.activeVisit"
      [patient]="patient"
      [location]="location"
      (saveObservation)="onSave($event)"
    ></app-observation-chart-table>
    <mat-progress-loader
      class="mt-2"
      *ngIf="!params?.obsChartEncounterType || !params?.activeVisit"
      mode="indeterminate"
    ></mat-progress-loader>
  </div>
</div>
