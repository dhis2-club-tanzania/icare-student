<app-shared-error [errors]="errors"></app-shared-error>
<div class="w-100">
    <div>
        <!-- Search input start -->
        <div class="search-input-card p-2 border mb-3 mt-3">
            <mat-icon matPrefix class="text-muted">search</mat-icon>
            <input class="ml-2 w-100 search-input" matInput autocomplete="off" placeholder="Search Appointment"
                (keyup)="onSearchPatient($event)" />
        </div>
        <!-- Search input start -->
        <div class="patient-list d-flex">
       
            <!-- Filter input start -->
            <div class="w-100 patient-list-type-toggle-container d-flex">
                <div class="w-75">
                    <app-appointments-list-filters [filterCategories]="filters"
                    [hideLocationFilter]="hideLocationFilter"
                        (onFilterChanged)="filterAppointmentList($event)"></app-appointments-list-filters>
                </div>
                
            </div>
            <!-- Filter input start -->


            <!-- {{ appointments | json }} -->
            <div class="text-center w-100 mt-5" *ngIf="
                    searchTerm &&
                    (appointments | filterBy: searchTerm:'patientName')?.length === 0
                    "
                >
                <h3 class="text-muted">
                    Appointment with keyword "{{ searchTerm }}" could not be found
                </h3>
            </div>

            <mat-progress-bar *ngIf="loading" mode="indeterminate" class="mb-3"></mat-progress-bar>

                <!-- Tabular list -->
                <div class="tabular-patient-list" *ngIf="
              appointments &&
              appointments.length > 0 
            ">
                    <app-appointments-table [appointments]="appointments" [paymentTypeSelected]="paymentTypeSelected"
                        (selectedAppointmentDetails)="onSelectAppointment(null, $event)" [itemsPerPage]="itemsPerPage" [page]="page"
                        (shouldLoadNewList)="onLoadNewList($event)"></app-appointments-table>
                    </div>
                    <!-- End of Tabular list -->

            <div class="text-center w-100 mt-5" *ngIf="(appointments && appointments?.length === 0) && !loading">
                <h3 class="text-muted">No appointment found</h3>
            </div>
            <div class="text-center w-100 mt-5" *ngIf="!appointments  && loading">
                <h3 class="text-muted">Fetch Appointments...</h3>
            </div>
        </div>
    </div>

</div>